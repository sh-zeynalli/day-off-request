<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Socar</title>

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
          integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/css/bootstrap-timepicker.min.css">

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/css/bootstrap-select.min.css">

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/css/bootstrap-timepicker.css">


    <!-- DataTables JS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
            integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
            crossorigin="anonymous">
    </script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/js/bootstrap-timepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/js/bootstrap-timepicker.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/js/bootstrap-select.min.js"></script>


</head>
<body>
<!--permission_table-->
<div class="form-group">

    <button id="mainPageBtn" type="button" class="btn btn btn-primary" style="margin-top: 30px; margin-left: 30px">Əsas
        səhifə
    </button>

    <div class="container" style="margin-top: 30px" id="permissiondiv">
        <table class="table" id="permission" cellpadding="0" align="center" width="80%">
            <thead>
            <tr>
                <th scope="col" class="text-center">#</th>
                <th scope="col" class="text-center">İcazə alınan tarix</th>
                <th scope="col" class="text-center">İcazənin növü</th>
                <th scope="col" class="text-center">Gediş vaxtı</th>
                <th scope="col" class="text-center">Dönüş vaxtı</th>
                <th scope="col" class="text-center">Səbəb</th>
                <th scope="col" class="text-center">Status</th>

            </tr>
            </thead>
            <tbody>
            <tr th:each="p, id: ${permissionList}" align="center" th:object="${permission}">
                <td th:text="${id.count}" data-th-id="${p.id}"></td>
                <td th:text="${p.date}"></td>
                <td th:text="${p.type.name}"></td>
                <td th:text="${p.startDate}"></td>
                <td th:text="${p.endDate}+${p.endTime}"></td>
                <td th:text="${p.reason}"></td>
                <td><a type="button" id="statusBtn" data-toggle="tooltip" th:title="${p.description}">
                    <i class="fas fa-info-circle"></i></a></td>
                <!--<td><a type="button" id="statusBtn" data-toggle="tooltip" class="statusBtn" th:title="${p.description}">-->
                    <!--<i class="fas fa-info-circle"></i></a></td>-->
            </tr>
            </tbody>
        </table>
        <div style="text-align: center;">
    <span th:text="${emptyList}" style="
          font-size: x-large;
          color: hotpink;
          font-family: Segoe UI Light;"></span>
        </div>
        <div style="text-align: center;">
        </div>
    </div>
    <div class="container" style="visibility: hidden" id="allpermissionsdiv">
        <table class="table" id="allpermissions" cellpadding="0" align="center" width="80%">
            <thead>
            <tr>
                <th scope="col" class="text-center">#</th>
                <th scope="col" class="text-center">İcazəni alan şəxs</th>
                <th scope="col" class="text-center">İcazə alınan tarix</th>
                <th scope="col" class="text-center">İcazənin növü</th>
                <th scope="col" class="text-center">Gediş vaxtı</th>
                <th scope="col" class="text-center">Dönüş vaxtı</th>
                <th scope="col" class="text-center">Səbəb</th>
                <th scope="col" class="text-center">Status</th>

            </tr>
            </thead>
            <tbody>
            <tr th:each="p, id: ${permissionList}" align="center" th:object="${permission}">
                <td th:text="${id.count}" data-th-id="${p.id}"></td>
                <td th:text="${p.employees.fullname}"></td>
                <td th:text="${p.date}"></td>
                <td th:text="${p.type.name}"></td>
                <td th:text="${p.startDate}"></td>
                <td th:text="${p.endDate}+${p.endTime}"></td>
                <td th:text="${p.reason}"></td>
                <td><a type="button" id="statusBtnAll" class="statusBtn" data-toggle="tooltip" th:title="${p.description}">
                    <i class="fas fa-info-circle"></i></a></td>

            </tr>
            </tbody>
        </table>
        <div style="text-align: center;">
    <span th:text="${emptyList}" style="
          font-size: x-large;
          color: hotpink;
          font-family: Segoe UI Light;"></span>
        </div>
        <div style="text-align: center;">
        </div>
    </div>
</div>

<span th:text="${roleId}" id="roleId" style="visibility: hidden"></span>

<!--main page-->
<script>
    $(document).ready(function () {
        console.log($("#roleId").text())
        if ($("#roleId").text() > 4) {
            document.getElementById('allpermissionsdiv').style.visibility = "visible";
            document.getElementById('permissiondiv').style.visibility = "collapse";
        }
        $("#mainPageBtn").click(function () {
            $.ajax({
                url: '/',
                method: 'get'
            })
            window.location.replace("http://localhost:8083/home");
        })
    })
</script>

<!--info page-->
<!--<script>-->
    <!--$(document).ready(function () {-->
        <!--$(document).on("click", ".statusBtn", function () {-->
            <!--var id = $(this).attr('id');-->
            <!--$.ajax({-->
                <!--url: '/status/'+id,-->
                <!--method: 'get'-->
            <!--})-->
           <!--// window.location.replace("http://localhost:8083/home/permission/status");-->
        <!--})-->
    <!--})-->
<!--</script>-->

<script>
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>

</body>
</html>